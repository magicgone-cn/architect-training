# 集群与分布式

集群与分布式，到底怎么定义，说不清楚，姑且按自己的来吧。

## 定义

### 集群

相同功能的多个节点称之为集群。

### 分布式

不同功能的多个节点称之为分布式，或者称之为分片、分区。

## 应用服务（无状态）

### 集群

相同功能的应用服务，组合在一起，实现了高可用，也提升了系统的吞吐量。

### 分布式

不同功能的应用服务，组合在一起，可能就是SOA或者微服务了对吞吐量的提升有帮助，但是高可用就不行了，还是需要每个服务再做集群。

## 存储（有状态）

### 集群

相同功能的存储，组合在一起，实现了高可用，读数据由于可以分发到各个节点进行读取，性能可以提升，但写的效率无法提升，甚至因为各个节点需要数据同步，写的性能反而下降，甚至出现数据不一致的情况。

### 分布式

不同节点存放不同的数据，无法实现高可用，某个节点挂了，则此节点的数据无法访问。但由于不同的数据存储到不同的节点，读写效率均能提升。

在存储非常大的时候，集群方式往往存不下，也查不动，分布式这能把数据分散到各个节点，每个节点只管理少量数据，提高读写效率。

## 综合应用

一个系统的高可用，必须由集群来支撑，保证某个节点故障，其他节点还能继续服务。

一个系统的高性能，则可以分而治之，无状态的可以通过集群来提高性能；而有状态的，当数据量不大，写入性能要求不高的时候，集群也能处理；相反，数据量大且写入性能存为瓶颈时，则需要通过分布式来处理了。

